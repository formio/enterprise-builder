import { Router } from '@angular/router';
import { FormsService } from './forms.service';
import { inject } from '@angular/core';
export const formGuard = (component, currentRoute, currentState, nextState, service = inject(FormsService), router = inject(Router)) => {
    if (service.changed) {
        router.navigate([currentState.url.split('/').slice(0, -1).join('/'), 'changes'], {
            state: { intendedRoute: nextState.url }
        });
        return false;
    }
    service.unloadForm();
    return true;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS5ndWFyZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2VudGVycHJpc2UtYnVpbGRlci9zcmMvZm9ybS9mb3JtLmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBMkQsTUFBTSxFQUF1QixNQUFNLGlCQUFpQixDQUFDO0FBQ3ZILE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3ZDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBNkIsQ0FDakQsU0FBd0IsRUFDeEIsWUFBb0MsRUFDcEMsWUFBaUMsRUFDakMsU0FBOEIsRUFDOUIsVUFBd0IsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUM1QyxTQUFpQixNQUFNLENBQUMsTUFBTSxDQUFDLEVBQy9CLEVBQUU7SUFDRixJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNwQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxTQUFTLENBQUMsRUFBRTtZQUMvRSxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRTtTQUN4QyxDQUFDLENBQUM7UUFDSCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDckIsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSwgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgQ2FuRGVhY3RpdmF0ZUZuLCBSb3V0ZXIsIFJvdXRlclN0YXRlU25hcHNob3QgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgRm9ybXNTZXJ2aWNlIH0gZnJvbSAnLi9mb3Jtcy5zZXJ2aWNlJztcbmltcG9ydCB7IGluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUNvbXBvbmVudCB9IGZyb20gJy4vZm9ybS9mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBFbnRlcnByaXNlQnVpbGRlckFsZXJ0cyB9IGZyb20gJy4uL2VudGVycHJpc2UtYnVpbGRlci5hbGVydHMnO1xuZXhwb3J0IGNvbnN0IGZvcm1HdWFyZDogQ2FuRGVhY3RpdmF0ZUZuPHVua25vd24+ID0gKFxuICBjb21wb25lbnQ6IEZvcm1Db21wb25lbnQsXG4gIGN1cnJlbnRSb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCxcbiAgY3VycmVudFN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90LFxuICBuZXh0U3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QsXG4gIHNlcnZpY2U6IEZvcm1zU2VydmljZSA9IGluamVjdChGb3Jtc1NlcnZpY2UpLFxuICByb3V0ZXI6IFJvdXRlciA9IGluamVjdChSb3V0ZXIpXG4pID0+IHtcbiAgaWYgKHNlcnZpY2UuY2hhbmdlZCkge1xuICAgIHJvdXRlci5uYXZpZ2F0ZShbY3VycmVudFN0YXRlLnVybC5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5qb2luKCcvJyksICdjaGFuZ2VzJ10sIHtcbiAgICAgIHN0YXRlOiB7IGludGVuZGVkUm91dGU6IG5leHRTdGF0ZS51cmwgfVxuICAgIH0pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzZXJ2aWNlLnVubG9hZEZvcm0oKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuIl19