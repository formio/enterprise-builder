<div class="d-flex flex-grow-1 min-vh-100">
    <!-- Side Navbar -->
    <nav style="width:380px;" class="d-flex flex-column justify-content-between mw-25 bg-body border-end h-screen" *ngIf="auth.authenticated">
      <div class="p-2">
        <div class="row d-flex justify-content-start align-items-center gx-2 px-3">
          <div style="width: 30px; height: 30px;" class="col-2 rounded">
            <img src="icon.png" style="height: 100%" />
          </div>
          <div class="p-3 col-10">
            <h5 class="fs-5 fw-semibold m-0 text-body">{{ service.currentProject?.title || 'Form.io Project'}}</h5>
          </div>
        </div>
        <div class="mt-3 list-group gy-5">
          <span *ngIf="(service.project | async)" class="mt-3 ms-3"><i class="bi bi-building fs-3"></i> {{ service.currentProject?.name }}</span>
          <hr *ngIf="(service.project | async)" class="m-0 ms-3" />
          <a *ngIf="(service.project | async)" routerLink="/forms" routerLinkActive="text-primary" [routerLinkActiveOptions]="{exact: true}"
            class="text-decoration-none px-3 py-2 list-group-item-action border-0 d-flex align-items-center justify-content-start ms-3">
            <i class="bi me-2 fs-4 bi-card-list"></i>
            <span class="">Forms</span>
          </a>
          <a *ngIf="(service.project | async)" routerLink="/reports" routerLinkActive="text-primary"
            class="text-decoration-none px-3 py-2 list-group-item-action border-0 d-flex align-items-center justify-content-start ms-3">
            <i class="bi me-2 fs-4 bi-clipboard-data"></i>
            <span>Reports</span>
          </a>
        </div>
      </div>
      <div class="mb-5 list-group gy-5">
        <a href="https://help.form.io/userguide/enterprise-builder-module"
          class="text-decoration-none px-3 py-2 list-group-item-action border-0 d-flex align-items-center justify-content-start">
          <i class="bi me-2 fs-4 bi-file-earmark-code"></i>
          <span>Documentation</span>
        </a>
        <a routerLink="auth/settings"
          class="text-decoration-none px-3 py-2 list-group-item-action border-0 d-flex align-items-center justify-content-start"
          *ngIf="!auth.authenticated">
          <i class="bi me-2 fs-4 bi-gear"></i>
          <span>Settings</span>
        </a>
        <a routerLink="auth"
          class="text-decoration-none px-3 py-2 list-group-item list-group-item-action border-0 d-flex align-items-center justify-content-start"
          *ngIf="!auth.authenticated">
          <i class="bi me-2 fs-4 bi-box-arrow-in-right"></i>
          <span>Login</span>
        </a>
        <a class="text-decoration-none px-3 py-2 list-group-item-action border-0 d-flex align-items-center justify-content-start"
          routerLink="/" *ngIf="auth.authenticated" (click)="auth.logout()">
          <i class="bi me-2 fs-4 bi-box-arrow-right"></i>
          <span>Logout</span>
        </a>
      </div>
    </nav>
  
    <!-- Main Content -->
    <div class="d-flex w-100 mw-100 min-vh-100 flex-column justify-content-between pt-1 bg-body-tertiary {{!auth.authenticated ? 'w-100' : ''}}">
      <div class="p-3">
        <router-outlet></router-outlet>
      </div>
      <footer class="panel-footer footer d-flex justify-content-center pt-2">
        <div class="d-flex justify-content-center align-items-center flex-row gap-2">
          <!-- Powered by -->
          <a href="https://form.io" class="d-flex w-auto justify-content-center   text-center"> <img class="logo"
              alt="Form.io" class="w-32 mb-1" src="https://portal.form.io/template/images/formio-logo-white.png"
              height="30px" /></a>
          <span style="font-size: 12px;" class=" fs-sm text-center text-body-tertiary mb-0"> Angular {{version}}</span>
        </div>
      </footer>
    </div>
  </div>  